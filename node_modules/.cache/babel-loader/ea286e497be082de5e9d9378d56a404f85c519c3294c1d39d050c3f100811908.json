{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';import'./vehicle.css';// Importa los estilos CSS\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VehicleForm(){const[formData,setFormData]=useState({BRAND:'',MODEL:'',YEAR:'',COLOR:'',placa:'','numero economico':'',vim:'',asientos:'',seguro:'','segure numebr':''});const[emptyFields,setEmptyFields]=useState([]);const[successMessage,setSuccessMessage]=useState('');const[loading,setLoading]=useState(false);const handleChange=e=>{setFormData({...formData,[e.target.name]:e.target.value});if(emptyFields.includes(e.target.name)&&e.target.value!==''){setEmptyFields(emptyFields.filter(field=>field!==e.target.name));}};const handleSubmit=async e=>{e.preventDefault();const emptyFieldsArray=Object.keys(formData).filter(key=>formData[key]==='');if(emptyFieldsArray.length>0){setEmptyFields(emptyFieldsArray);}else{setEmptyFields([]);setLoading(true);try{const response=await axios.post('https://www.api.merakimx.mx/gpd/vehicle/creates',formData);console.log('Datos del formulario enviados correctamente.');setSuccessMessage('¡Los datos del formulario se enviaron correctamente!');setFormData({BRAND:'',MODEL:'',YEAR:'',COLOR:'',placa:'','numero economico':'',vim:'',asientos:'',seguro:'','segure numebr':''});setTimeout(()=>{window.location.href='/';},2000);}catch(error){console.error('Error al enviar los datos del formulario:',error);}}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"loading-indicator\",children:\"Alta de Veh\\xEDculo\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"vehicle-form-container\",children:[loading?/*#__PURE__*/_jsx(\"div\",{className:\"loading-indicator\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Enviando datos...\"})}):/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,style:{display:\"grid\",gridTemplateColumns:\"repeat(auto-fill, minmax(300px, 1fr))\",gap:\"1rem\"},children:[Object.entries(formData).map(_ref=>{let[key,value]=_ref;return(// Excluye _id y status del mapeo\nkey!=='_id'&&key!=='status'&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-item\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:key,children:[key,emptyFields.includes(key)&&\" *\",\":\"]}),key==='YEAR'||key==='asientos'?/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:key,name:key,value:value,onChange:handleChange,required:true,style:{height:'25px'}}):/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:key,name:key,value:value,onChange:handleChange,required:true,style:{height:'25px'}}),emptyFields.includes(key)&&/*#__PURE__*/_jsx(\"span\",{className:\"error-message\",children:\"Campo requerido\"})]},key));}),/*#__PURE__*/_jsx(\"div\",{style:{gridColumn:\"1 / -1\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-button\",children:\"Crear\"})})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{style:{color:'green',marginTop:'10px'},children:successMessage})]})]});}export default VehicleForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","VehicleForm","formData","setFormData","BRAND","MODEL","YEAR","COLOR","placa","vim","asientos","seguro","emptyFields","setEmptyFields","successMessage","setSuccessMessage","loading","setLoading","handleChange","e","target","name","value","includes","filter","field","handleSubmit","preventDefault","emptyFieldsArray","Object","keys","key","length","response","post","console","log","setTimeout","window","location","href","error","children","className","onSubmit","style","display","gridTemplateColumns","gap","entries","map","_ref","htmlFor","type","id","onChange","required","height","gridColumn","textAlign","color","marginTop"],"sources":["/Users/rodrigo/Desktop/traxiapp/src/components/vehicle/vehicle.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport './vehicle.css'; // Importa los estilos CSS\n\nfunction VehicleForm() {\n    const [formData, setFormData] = useState({\n        BRAND: '',\n        MODEL: '',\n        YEAR: '',\n        COLOR: '',\n        placa: '',\n        'numero economico': '',\n        vim: '',\n        asientos: '',\n        seguro: '',\n        'segure numebr': ''\n    });\n\n    const [emptyFields, setEmptyFields] = useState([]);\n    const [successMessage, setSuccessMessage] = useState('');\n    const [loading, setLoading] = useState(false);\n\n    const handleChange = (e) => {\n        setFormData({\n            ...formData,\n            [e.target.name]: e.target.value\n        });\n        if (emptyFields.includes(e.target.name) && e.target.value !== '') {\n            setEmptyFields(emptyFields.filter(field => field !== e.target.name));\n        }\n    };\n\n    const handleSubmit = async (e) => {\n        e.preventDefault();\n        const emptyFieldsArray = Object.keys(formData).filter(key => formData[key] === '');\n        if (emptyFieldsArray.length > 0) {\n            setEmptyFields(emptyFieldsArray);\n        } else {\n            setEmptyFields([]);\n            setLoading(true);\n            try {\n                const response = await axios.post('https://www.api.merakimx.mx/gpd/vehicle/creates', formData);\n                console.log('Datos del formulario enviados correctamente.');\n                setSuccessMessage('¡Los datos del formulario se enviaron correctamente!');\n                setFormData({\n                    BRAND: '',\n                    MODEL: '',\n                    YEAR: '',\n                    COLOR: '',\n                    placa: '',\n                    'numero economico': '',\n                    vim: '',\n                    asientos: '',\n                    seguro: '',\n                    'segure numebr': ''\n                });\n                setTimeout(() => {\n                    window.location.href = '/';\n                }, 2000);\n\n            } catch (error) {\n                console.error('Error al enviar los datos del formulario:', error);\n            }\n        }\n    };\n\n\n    return (\n        <div>\n            <h2 className='loading-indicator'>Alta de Vehículo</h2>\n            <div className='vehicle-form-container'>\n                {loading ? (\n                    <div className='loading-indicator'>\n                        <p>Enviando datos...</p>\n                    </div>\n                ) : (\n                    <form\n                        onSubmit={handleSubmit}\n                        style={{\n                            display: \"grid\",\n                            gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr))\",\n                            gap: \"1rem\",\n                        }}\n                    >\n                        {Object.entries(formData).map(([key, value]) => (\n                            // Excluye _id y status del mapeo\n                            key !== '_id' && key !== 'status' && (\n                                <div key={key} className='form-item'>\n                                    <label htmlFor={key}>{key}{emptyFields.includes(key) && \" *\"}:</label>\n                                    {key === 'YEAR' || key === 'asientos' ? (\n                                        <input\n                                            type=\"number\"\n                                            id={key}\n                                            name={key}\n                                            value={value}\n                                            onChange={handleChange}\n                                            required\n                                            style={{ height: '25px' }}\n                                        />\n                                    ) : (\n                                        <input\n                                            type=\"text\"\n                                            id={key}\n                                            name={key}\n                                            value={value}\n                                            onChange={handleChange}\n                                            required\n                                            style={{ height: '25px' }}\n                                        />\n                                    )}\n                                    {emptyFields.includes(key) && <span className='error-message'>Campo requerido</span>}\n                                </div>\n                            )\n                        ))}\n                        <div style={{ gridColumn: \"1 / -1\", textAlign: \"center\" }}>\n                            <button type=\"submit\" className='submit-button'>Crear</button>\n                        </div>\n                    </form>)}\n                {successMessage && (\n                    <div style={{ color: 'green', marginTop: '10px' }}>\n                        {successMessage}\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default VehicleForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}